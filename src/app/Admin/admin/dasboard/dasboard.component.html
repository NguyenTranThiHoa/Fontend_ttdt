<div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <h4 class="page-header" style="text-align: center;">
            <strong><em>TH·ªêNG K√ä S·ªê L∆Ø·ª¢NG</em></strong>
        </h4>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-3 col-md-6">
        <div class="card text-white mb-3" style="background-color: rgb(58, 96, 162);">
          <div class="card-header" style="font-weight: bold;">GI·ªöI THI·ªÜU</div>
          <div class="card-body d-flex align-items-center">
<i class="bi bi-bar-chart-line dashboard-icon" style="padding: 0px 20px;"></i>
            <h3 class="card-title me-2" style="margin-left: 20px;">{{ statistics.totalIntroduces }}</h3>
          </div>
          <div class="card-footer" style="background-color: #fff;">
            <a routerLink="/admin/app-categories-introduce" class="btn btn-primary" style="background-color: rgb(58, 96, 162);"><i class="bi bi-arrow-right"  style="padding: 0px 10px;"></i>Xem chi ti·∫øt</a>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="card text-white mb-3" style="background-color: rgb(58, 162, 112);">
          <div class="card-header" style="font-weight: bold;">TIN T·ª®C - S·ª∞ KI·ªÜN</div>
          <div class="card-body d-flex align-items-center">
<i class="bi bi-calendar-event dashboard-icon" style="padding: 0px 20px;"></i>
            <h3 class="card-title me-2" style="margin-left: 20px;">{{ statistics.totalNewEvents }}</h3>
          </div>
          <div class="card-footer" style="background-color: #fff;">
            <a routerLink="/admin/app-categories" class="btn btn-primary" style="background-color: rgb(58, 162, 112);"><i class="bi bi-arrow-right"  style="padding: 0px 10px;"></i>Xem chi ti·∫øt</a>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="card text-white mb-3" style="background-color: rgb(150, 158, 63);">
          <div class="card-header" style="font-weight: bold;">VƒÇN B·∫¢N - PH√ÅP LU·∫¨T</div>
          <div class="card-body d-flex align-items-center">
<i class="bi bi-file-earmark-text dashboard-icon" style="padding: 0px 20px;"></i>
            <h3 class="card-title me-2" style="margin-left: 20px;">{{ statistics.totalDocuments }}</h3>
          </div>
          <div class="card-footer" style="background-color: #fff;">
            <a routerLink="/admin/app-categories-documents" class="btn btn-primary" style="background-color: rgb(150, 158, 63);"><i class="bi bi-arrow-right"  style="padding: 0px 10px;"></i>Xem chi ti·∫øt</a>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="card text-white mb-3" style="background-color: rgb(179, 78, 78);">
          <div class="card-header" style="font-weight: bold;">TH·ª¶ T·ª§C H√ÄNH CH√çNH</div>
          <div class="card-body d-flex align-items-center">
<i class="bi bi-list-task dashboard-icon" style="padding: 0px 20px;"></i>
            <h3 class="card-title me-2" style="margin-left: 20px;">{{ statistics.totalProcedure }}</h3>
          </div>
          <div class="card-footer" style="background-color: #fff;">
            <a routerLink="/admin/app-categories-field" class="btn btn-primary" style="background-color: rgb(179, 78, 78);"><i class="bi bi-arrow-right"  style="padding: 0px 10px;"></i>Xem chi ti·∫øt</a>
          </div>
        </div>
      </div>
    </div>
</div>


<div class="container-fluid py-3">
  <div class="row g-4">

    <!-- Bi·ªÉu ƒë·ªì th·ªëng k√™ -->
    <!-- <div class="col-md-3">
      <div class="card shadow-lg h-100">
        <div class="card-header fw-bold text-black">
          üìä TH·ªêNG K√ä B√ÄI VI·∫æT
        </div>
        <div class="card-body d-flex justify-content-center align-items-center">
          <canvas id="statisticsChart" style="width: 100%; height: 300px;"></canvas>
        </div>
      </div>
    </div> -->

  <div class="col-md-3">
    <div class="card shadow-lg h-100">
      <div class="card-header fw-bold text-black">
        üìä TH·ªêNG K√ä B√ÄI VI·∫æT
      </div>
      <div class="card-body d-flex flex-column justify-content-center align-items-center">
        <!-- Bi·ªÉu ƒë·ªì quay -->
        <div class="chart-spin-container mb-2">
          <canvas id="statisticsChart" width="200" height="200"></canvas>
        </div>
        <!-- Ch√∫ th√≠ch ƒë·ª©ng y√™n -->
        <div id="statisticsLegend" class="text-center small fw-medium mt-2"></div>
      </div>
    </div>
  </div>

    <!-- Bi·ªÉu ƒë·ªì danh m·ª•c b√†i vi·∫øt -->
    <div class="col-md-6">
      <div class="card shadow-lg h-100">
        <div class="card-header fw-bold text-black">
          üìä L∆Ø·ª¢T XEM DANH M·ª§C B√ÄI VI·∫æT TIN T·ª®C
        </div>
        <div class="card-body d-flex justify-content-center align-items-center">
          <canvas id="categoryChart" style="width: 100%; height: 300px;"></canvas>
        </div>
      </div>
    </div>

    <!-- Bi·ªÉu ƒë·ªì theo ng√†y -->
    <div class="col-md-6">
      <div class="card shadow-lg h-100">
        <div class="card-header fw-bold text-black">
          üìà L∆Ø·ª¢T XEM B√ÄI VI·∫æT THEO NG√ÄY
        </div>
        <div class="card-body d-flex justify-content-center align-items-center">
          <canvas id="viewsOverTimeChart" style="width: 100%; height: 300px;"></canvas>
        </div>
      </div>
    </div>

    <!-- B√†i vi·∫øt xem nhi·ªÅu -->
    <div class="col-md-6">
      <div class="card shadow-lg h-100">
        <div class="card-header fw-bold text-black d-flex justify-content-between align-items-center">
          <span><span class="flame-icon">üî•</span> B√ÄI VI·∫æT XEM NHI·ªÄU NH·∫§T</span>
        </div>

        <ul class="list-group list-group-flush overflow-auto popular-list" style="max-height: 400px;">
          <li class="list-group-item d-flex gap-3 align-items-start fade-in-item"
            *ngFor="let news of newEvents; let i = index" [ngStyle]="{ 'animation-delay': (i * 0.1) + 's' }">

            <img *ngIf="news.image" [src]="getImageUrlWithFallback(news, 'image')"
              (error)="handleImageError1($event, news, 'image')" class="rounded img-thumbnail shadow-sm article-image"
              alt="Image" />

            <div class="flex-grow-1">
              <a [href]="'http://ttdt2503.id.vn/news-detail/'+ [formatName(news.title)]" target="_blank"
                class="text-dark fw-bold text-decoration-none article-title">
                {{ news.title }}
              </a>

              <!-- Nh√£n Hot cho b√†i ƒë·∫ßu -->
              <span *ngIf="i === 0" class="badge bg-danger ms-2">HOT</span>

              <div class="d-flex justify-content-between text-muted small mt-1">
                <span>{{ news.create_at | date:'dd/MM/yyyy' }}</span>
                <span><i class="bi bi-eye-fill"></i> {{ news.view }} l∆∞·ª£t xem</span>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>

  </div>
</div>


